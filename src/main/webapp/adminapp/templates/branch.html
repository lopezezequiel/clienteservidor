<div class="panel panel-default">
  <div class="panel-heading">Sucursal</div>
  <div class="panel-body">
    
<form role="form" onsubmit="$service.stopSubmit(event)">

    {{#if branch.id}}
    <div class="form-group">
        <label for="branch-id">Id:</label>
        <input type="number" class="form-control" id="branch-id" name="id" value={{branch.id}} disabled="disabled">
    </div>
    {{/if}}

    <div class="form-group">
        <label for="branch-address">Dirección:</label>
        <input type="text" class="form-control" id="branch-address" name="address" value="{{branch.address}}">
    </div>

    <div class="form-group">
        <label for="branch-company">Compañia:</label>
        <select class="form-control" id="branch-company" onchange="$service.branch.loadFirms(this, 'branch-firm');">
            <option>Seleccione una compañia</option>
            {{#each companies}}
            <option value={{id}}>{{name}}</option>
            {{/each}}
        </select>
    </div>

    <div class="form-group">
        <label for="branch-firm">Bandera:</label>
        <select class="form-control" id="branch-firm" name="firm" disabled>
        </select>
    </div>

    <div class="form-group">
        <label for="branch-province">Provincia:</label>
        <select class="form-control" id="branch-province" onchange="$service.branch.loadDepartments(this, 'branch-department');">
            <option>Seleccione una provincia</option>
            {{#each provinces}}
            <option value={{id}}>{{name}}</option>
            {{/each}}
        </select>
    </div>

    <div class="form-group">
        <label for="branch-department">Departamento:</label>
        <select class="form-control" id="branch-department" onchange="$service.branch.loadLocalities(this, 'branch-locality');" disabled>
        </select>
    </div>

    <div class="form-group">
        <label for="branch-locality">Localidad:</label>
        <select class="form-control" id="branch-locality" name="locality" disabled>
        </select>
    </div>

    <div class="form-group">
        <label for="branch-latitude">Latitud:</label>
        <input type="number" class="form-control" id="branch-latitude" name="latitude" value="{{branch.latitude}}">
        <label for="branch-longitude">Longitud:</label>
        <input type="number" class="form-control" id="branch-longitude" name="longitude" value="{{branch.longitude}}">
    </div>
    
    

    <div class="form-group">
        <label for="branch-admin">Administrador:</label>
        <select class="form-control" id="branch-admin" name="admin">
            {{#each users}}
            <option value={{id}}>{{mail}}</option>
            {{/each}}
        </select>
    </div>

    <a class="btn btn-default" href="#branches">Cancelar</a>

    {{#if branch.id}}
    <button type="button" class="btn btn-default" onclick="$service.branch.update(this.form)">Actualizar</button>
    <button type="button" class="btn btn-default" onclick="$service.branch.remove(this.form)">Eliminar</button>
    {{else}}
    <button type="button" class="btn btn-default" onclick="$service.branch.persist(this.form)">Guardar</button>
    {{/if}}
</form>
  </div>
</div>
